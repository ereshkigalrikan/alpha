{"version":3,"sources":["logo.svg","core/colors.js","rooms/north_wing.js","rooms/west_wing.js","rooms/aphex_church.js","scenes/aphex_intro.js","core/game.js","App.js","serviceWorker.js","index.js","prototypes.js"],"names":["module","exports","__webpack_require__","p","Pink","_React$Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","react_default","a","createElement","className","props","children","React","Component","north_wing","game","Fragment","s","label","action","aphex_church","west_wing","d","has_called_aphex","call_aphex","1","w","aphex_intro","colors_Pink","Yes (truth)","yes","Yes (tentative)","No","disabled","ALLOWED_KEYS","component","cur_choice","go","scene","print","fragment","choose","mapping","keys","every","includes","setChoices","Array","isArray","reduce","acc","choice","i","map","console","log","execute","_x","_execute","_callee","regenerator_default","wrap","_context","prev","next","stop","App","state","history","choices","document","addEventListener","onKeyDown","bind","title","historyRef","scrollTop","node","_this2","ReactIs","Children","elem","sanitizeNode","setState","prevState","scrollHeight","event","diabled","style","opacity","isButtonDisabled","onClick","_this3","src","logo","alt","ref","_renderButton","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister","String","prototype","stripLeft","charlist","replace","RegExp","stripRight","replaceAll","search","replacement"],"mappings":"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","file":"static/js/main.8b61fa57.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from 'react';\r\n\r\nexport class Pink extends React.Component {\r\n  render() {\r\n    return <span className=\"pink\">{this.props.children}</span>;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport * as game from 'game';\r\nimport {aphex_church} from 'aphex_church';\r\n\r\nexport function north_wing() {\r\n  game.print(<>\r\n    A nondescript north wing.\r\n  </>);\r\n\r\n  game.choose({\r\n    's': {\r\n      label: 'Church Hall',\r\n      action: function() {\r\n        game.print(<>\r\n          You go back to the main church area.\r\n        </>);\r\n\r\n        game.go(aphex_church);\r\n      },\r\n    },\r\n  });\r\n};\r\n","import React from 'react';\r\nimport * as game from 'game';\r\nimport {aphex_church} from 'aphex_church';\r\n\r\nexport function west_wing() {\r\n  game.print(<>\r\n    A nondescript west wing.\r\n  </>);\r\n\r\n  game.choose({\r\n    'd': {\r\n      label: 'Church Hall',\r\n      action: function() {\r\n        game.print(<>\r\n          You go back to the main church area.\r\n        </>);\r\n\r\n        game.go(aphex_church);\r\n      },\r\n    },\r\n  });\r\n};\r\n","import React from 'react';\r\nimport * as game from 'game';\r\nimport {north_wing} from 'north_wing';\r\nimport {west_wing} from 'west_wing';\r\n\r\nlet has_called_aphex = false;\r\n\r\nfunction call_aphex() {\r\n  if (!has_called_aphex) {\r\n    game.print(<>\r\n      You call Aphex but there is no reply.\r\n    </>);\r\n    has_called_aphex = true;\r\n  } else {\r\n    game.print(<>\r\n      You already tried to call Aphex but you do it again. There is no reply.\r\n    </>);\r\n  }\r\n\r\n  game.go(aphex_church);\r\n}\r\n\r\nexport function aphex_church() {\r\n  game.print(<>\r\n    The church is empty. The building looks like nobody has been in here for decades. You are in the main area of the church with the pews laying empty.\r\n  </>);\r\n\r\n  game.choose({\r\n    '1': {\r\n      label: 'Call Aphex',\r\n      action: call_aphex,\r\n    },\r\n    'w': {\r\n      label: 'North Wing',\r\n      action: function() {\r\n        game.print(<>\r\n          You walk to the north wing.\r\n        </>);\r\n        game.go(north_wing);\r\n      },\r\n    },\r\n    'a': {\r\n      label: 'West Wing',\r\n      action: function() {\r\n        game.print(<>\r\n          You walk to the west wing.\r\n        </>);\r\n        game.go(west_wing);\r\n      },\r\n    },\r\n  });\r\n};\r\n","import React from 'react';\r\nimport {Pink} from 'colors';\r\nimport * as game from 'game';\r\nimport {aphex_church} from 'aphex_church';\r\n\r\nexport let willingness;\r\n\r\nexport function aphex_intro() {\r\n  game.print(<>\r\n    You try to open your eyes but see only darkness. You instinctively blink a few times, but you can't feel your eyelids. But you know there to be a silhouette in front of you--its very existence exuding power into your soul.\r\n\r\n    It speaks a command that you cannot hear and your body lurches forward in response, pushing you through a ethereal fabric, tearing a hole for you to enter. Passing through, your body feels heavy and you fall to your knees, gasping for air as your lungs fill with air for what seems like the first time. Your rough entry knocks over a candle on the floor.\r\n\r\n    You look up and see what looks to be a medieval-themed room. The walls are stone, the furniture is made out of hewn wood, and the various religious iconography are scattered around the room, although none from a religion that you've ever seen. A young human woman is standing in front of you, wearing what looks like a nightgown, seems to be almost... glowing.\r\n\r\n    Dazed, you stammer at her, asking what's happening, and where you are.\r\n\r\n    <Pink>\"I have summoned you from your plane and I require your assistance. I am Aphex, the goddess of romance.</Pink>\r\n\r\n    You pinch yourself and feel pain.\r\n\r\n    <Pink>\"This world is crumbling. Mana was innate in all creatures, and humanoids were no exception. But a catastrophe years ago wracked the magical balance, causing an imbalance to occur. Now, women have become unable to regenerate mana.</Pink>\r\n\r\n    <Pink>\"In some parts of the world, they were able to overcome this challenge with their technology. In most, it has caused a destruction in status quo, the new culture reflecting the clear power imbalance. And with it, my power wanes, and so too my influence, causing a vicious cycle that soon I will be completely unable to stop.</Pink>\r\n\r\n    <Pink>\"But we have time. If you are able to aid me, we can change course and I can guide civilization back from the brink of collapse.</Pink>\r\n\r\n    She lowers herself to kneel on one knee, pointing her head towards your feet.\r\n\r\n    <Pink>\"I beg of you, will you accept my quest and restore order to this world?</Pink>\r\n  </>);\r\n\r\n  // setting the choices by using a constant label map\r\n  game.choose({\r\n    'Yes (truth)': function() {\r\n      game.print(<>\r\n        You agree that you will do it. You're not sure what you need to do or if you can succeed, but you will try your best to help her.\r\n      </>);\r\n\r\n      willingness = 'yes';\r\n      yes();\r\n      game.go(aphex_church);\r\n    },\r\n    'Yes (tentative)': function() {\r\n      game.print(<>\r\n        You agree to help her out, but you keep silent that you're pretty sure you'll ditch the moment it gets dangerous for you.\r\n\r\n        She lowers her body, kneeling on one knee with her head down.\r\n\r\n        <Pink>'Thank you.</Pink>\r\n      </>);\r\n\r\n      willingness = 'tentative';\r\n      yes();\r\n      game.go(aphex_church);\r\n    },\r\n    'No': function() {\r\n      game.print(<>\r\n        You say that she's definitely looking for another person--there's no way that someone like you would do this, let alone be able to! You're just a regular person.\r\n\r\n        Her expression tightens and you feel like she is not interested in sending you home.\r\n\r\n        <Pink>\"I don't think you realize how difficult it was for me to summon you. Perhaps you would like to change your mind?\"</Pink>\r\n\r\n        She has definitely cast a spell on you, but you don't know what it is.\r\n      </>);\r\n\r\n      willingness = 'no';\r\n\r\n      // setting the choices by array\r\n      game.choose([\r\n        {\r\n          label: `Yes`,\r\n          action: function() {\r\n            game.print(<>\r\n              You can't help but to say yes to her.\r\n            </>);\r\n\r\n            game.go(aphex_church);\r\n          },\r\n        },\r\n        {\r\n          label: `No`,\r\n          disabled: true,\r\n        },\r\n      ]);\r\n    },\r\n  });\r\n}\r\n\r\nfunction yes() {\r\n  game.print(<>\r\n    <Pink>\"I thank you for your service. And the world does not know it yet, but it thanks you, too.\"</Pink>\r\n\r\n    She stands up and puts her hand on your shoulder.\r\n\r\n    <Pink>\"I will bestow your body with the mana I can sacrifice. However, your body has no ability to regenerate it.</Pink>\r\n\r\n    You can feel a rush of energy enter your body, awakening nerves you never knew you had.\r\n  </>);\r\n}\r\n\r\nfunction dont_know() {\r\n  game.print(<>\r\n    You tell her... that you're not sure. You don't have\r\n\r\n    <Pink>\"Good. Now be on your way with some mana.</Pink>\r\n\r\n    +100 mana!\r\n  </>);\r\n\r\n  game.choose({\r\n    '1': {\r\n      label: `Yes (truth)`,\r\n      action: function() {\r\n      },\r\n    },\r\n  });\r\n\r\n}\r\n","import 'prototypes';\r\nimport React from 'react';\r\nimport {aphex_intro} from 'aphex_intro';\r\n\r\nexport const ALLOWED_KEYS = [\r\n  '1', '2', '3', '4', '5',\r\n  'q', 'w', 'e', 'r', 't',\r\n  'a', 's', 'd', 'f', 'g',\r\n];\r\n\r\nlet component = null;\r\nlet cur_scene = null;\r\nlet cur_choice = null;\r\n\r\nexport function hook(comp) {\r\n  component = comp;\r\n  go(aphex_intro);\r\n}\r\n\r\nexport function go(scene) {\r\n  print();\r\n  cur_scene = scene();\r\n}\r\n\r\nexport function print(fragment) {\r\n  component.print(fragment);\r\n}\r\n\r\nexport function yes_or_no(yes_action, no_action) {\r\n  choose([\r\n    {\r\n      label: 'Yes',\r\n      action: yes_action,\r\n    },\r\n    {\r\n      label: 'No',\r\n      action: no_action,\r\n    },\r\n  ]);\r\n}\r\n\r\nexport function choose(mapping) {\r\n  if (Object.keys(mapping).every(key => ALLOWED_KEYS.includes(key))) {\r\n    // dict, but it is a key mapping\r\n    component.setChoices(mapping);\r\n    cur_choice = mapping;\r\n  } else if (Array.isArray(mapping)) {\r\n    // is an array--default to 1,2,3,4,5\r\n    mapping = mapping.reduce(\r\n      (acc, choice, i) => {\r\n        acc[i+1] = choice;\r\n        return acc;\r\n      },\r\n      {},\r\n    );\r\n    choose(mapping);\r\n  } else {\r\n    // dict, but it is a label mapping\r\n    mapping = Object.keys(mapping).map(key => ({\r\n      label: key,\r\n      action: mapping[key],\r\n    }));\r\n    console.log(mapping);\r\n    choose(mapping);\r\n  }\r\n}\r\n\r\nexport function change_mana() {\r\n}\r\n\r\nexport async function execute(key) {\r\n  if (key in cur_choice) {\r\n    const isButtonDisabled = cur_choice[key].disabled === true\r\n      || typeof cur_choice[key].disabled === 'string';\r\n\r\n    if (!isButtonDisabled) {\r\n      print(<b>> {cur_choice[key].label}</b>);\r\n      cur_choice[key].action();\r\n    }\r\n  }\r\n}\r\n","import 'prototypes';\nimport React from 'react';\nimport * as ReactIs from 'react-is';\nimport * as game from 'game';\n\nimport logo from 'logo.svg';\nimport 'App.css';\n\nclass App extends React.Component {\n  state = {\n    history: <></>,\n    choices: {},\n  };\n\n  async componentDidMount() {\n    // need to hook this component into the template strings in each scene\n    await game.hook(this);\n    document.addEventListener('keydown', this.onKeyDown.bind(this));\n    document.title = 'Alpha';\n    this.historyRef.scrollTop = 0;\n  }\n\n  sanitizeNode(node) {\n    if (node == null) {\n      return <div />;\n    }\n\n    if (ReactIs.isFragment(node)) {\n      // map all raw text nodes as paragraphs\n      return React.Children.map(\n        node.props.children,\n        elem => this.sanitizeNode(elem),\n      );\n    } else {\n      return <div>{node}</div>;\n    }\n  }\n\n  async print(node) {\n    node = this.sanitizeNode(node);\n\n    await this.setState(prevState => ({\n      history: <>{prevState.history}{node}</>,\n    }));\n    this.historyRef.scrollTop = this.historyRef.scrollHeight;\n  }\n\n  async setChoices(mapping) {\n    await this.setState(prevState => ({\n      choices: mapping,\n    }));\n  }\n\n  async onKeyDown(event) {\n    if (!game.ALLOWED_KEYS.includes(event.key)) {\n      return;\n    }\n\n    game.execute(event.key);\n  }\n\n  _renderButton(key) {\n    const {choices} = this.state;\n\n    if (choices[key] == null) {\n      return (\n        <button\n          diabled={true}\n          style={{\n            opacity: 0.3,\n          }}\n        >\n          {key}\n        </button>\n      );\n    }\n\n    const isButtonDisabled = choices[key].disabled === true\n      || typeof choices[key].disabled === 'string';\n\n    if (isButtonDisabled) {\n      return (\n        <button\n          disabled={isButtonDisabled}\n          style={{\n            opacity: 0.6,\n          }}\n        >\n          {choices[key].label}\n        </button>\n      );\n    }\n\n    return (\n      <button\n        onClick={() => game.execute(key)}\n        style={{\n          opacity: 1,\n        }}\n      >\n        {choices[key].label}\n      </button>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"root\">\n        <div className=\"topbar\">\n          <img src={logo} className=\"logo\" alt=\"logo\" />\n          <div>\n            Alpha\n          </div>\n        </div>\n        <div\n          className=\"gameWindow\"\n          ref={ref => {this.historyRef = ref;}}\n        >\n          <div className=\"gameWindowContent\">\n            {this.state.history}\n          </div>\n        </div>\n        <div className=\"inputButtons\">\n          <div className=\"inputRow\">\n            {this._renderButton('1')}\n            {this._renderButton('2')}\n            {this._renderButton('3')}\n            {this._renderButton('4')}\n            {this._renderButton('5')}\n          </div>\n          <div className=\"inputRow\">\n            {this._renderButton('q')}\n            {this._renderButton('w')}\n            {this._renderButton('e')}\n            {this._renderButton('r')}\n            {this._renderButton('t')}\n          </div>\n          <div className=\"inputRow\">\n            {this._renderButton('a')}\n            {this._renderButton('s')}\n            {this._renderButton('d')}\n            {this._renderButton('f')}\n            {this._renderButton('g')}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","String.prototype.stripLeft = function(charlist) {\r\n  return this.replace(new RegExp(\"^[\" + charlist + \"]+\"), \"\");\r\n};\r\n\r\nString.prototype.stripRight = function(charlist) {\r\n  return this.replace(new RegExp(\"[\" + charlist + \"]+$\"), \"\");\r\n};\r\n\r\nString.prototype.replaceAll = function(search, replacement) {\r\n    var target = this;\r\n    return target.replace(new RegExp(search, 'g'), replacement);\r\n};\r\n"],"sourceRoot":""}